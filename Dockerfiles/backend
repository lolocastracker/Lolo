# Use the latest Python image as a base
FROM python:latest

# Set a working directory inside the container
WORKDIR /target

# Copy the requirements file and install the dependencies
# This leverages Docker's layer caching
COPY requirements.txt ./
RUN pip install --no-cache-dir -r requirements.txt

# Copy the rest of the application files
# COPY . .

# Expose the port that the application will run on
EXPOSE 5000

# Run the application with Gunicorn
# 'app' is the Python file and 'app' is the Flask application instance
CMD ["gunicorn", "--bind", "0.0.0.0:5000", "app:app"]